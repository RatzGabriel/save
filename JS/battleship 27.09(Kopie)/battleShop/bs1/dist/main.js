(()=>{"use strict";const e=function(){let e=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],t=[],r=[],a=0;return{placeShip:(r,a,l)=>{if(r>e.length||a>e[r].length)return alert("not possible");let n=function(e,t,r){let a=r,l=0,n={x:[],y:[t]};for(let t=e;t<e+r;t++)n.x.push(t);return{isSunk:()=>l===a,hit:(e,t,r)=>{for(let a=0;a<n.x.length;a++)n.x[a]===e&&n.y==t&&"hit"!==n.x[a]&&(console.log("HIT"),r[e][t]="hit",n.x[a]="hit",l+=1)},shipLength:a,coords:n,tp:l}}(r,a,l);for(let t=r+n.shipLength-1;t>=r&&""===e[t][a];t--)e[t][a]="Ship";return t.push(n),e},board:e,receiveAttack:(e,l,n)=>{console.log(n);for(let o=0;o<t.length;o++)for(let i=0;i<t[o].coords.x.length;i++)if(t[o].coords.x[i]==e){if(t[o].coords.y==l)return t[o].hit(e,l,n),!0===t[o].isSunk()&&(a+=1,!0)}else r.push([e,l]);return t},ships:t}},t=function(){let t=e();return{placeShips:function(e,r,a){t.placeShip(e,r,a)},gameboardPlayer:t,placedShips:0}},r=(e,t,a,l)=>{let n=a.gameboardPlayer.board;e.innerHtml="",n.forEach(((n,o)=>{n.forEach(((n,i)=>{let c=document.createElement("div");c.className="cellDiv",c.innerText=n,c.addEventListener("click",(function(){l.gameboardPlayer.receiveAttack(o,i,l.gameboardPlayer.board),e.innerText="",t.innerText="",r(t,l,a),r(e,a,l)})),e.appendChild(c)}))}))},a=r;!function(){let e=t(),r=t();const l=document.getElementById("player"),n=document.getElementById("pc");e.gameboardPlayer.placeShip(2,3,3),e.gameboardPlayer.placeShip(2,4,3),e.gameboardPlayer.placeShip(2,6,3),r.gameboardPlayer.placeShip(3,2,3),r.gameboardPlayer.placeShip(4,6,3),r.gameboardPlayer.placeShip(1,1,3);a(n,l,r,e),a(l,n,e,r)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBa0NBLE1DMkJBLEVBMURBLFdBQ0UsSUFBSUEsRUFBUSxDQUNWLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDckMsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNyQyxDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3JDLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDckMsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNyQyxDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3JDLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDckMsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNyQyxDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ3JDLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksS0FFbkNDLEVBQVEsR0FDUkMsRUFBWSxHQUNaQyxFQUFZLEVBd0NoQixNQUFPLENBQUVDLFVBaENPLENBQUNDLEVBQUdDLEVBQUdDLEtBQ3JCLEdBQUlGLEVBQUlMLEVBQU1PLFFBQVVELEVBQUlOLEVBQU1LLEdBQUdFLE9BQVEsT0FBT0MsTUFBTSxnQkFDMUQsSUFBSUMsRUQxQlIsU0FBb0JKLEVBQUdDLEVBQUdDLEdBQ3hCLElBQUlHLEVBQWFILEVBQ2JJLEVBQUssRUFDTEMsRUFBUyxDQUNYUCxFQUFHLEdBQ0hDLEVBQUcsQ0FBQ0EsSUFpQk4sSUFBSyxJQUFJTyxFQUFJUixFQUFHUSxFQUFJUixFQUFJRSxFQUFRTSxJQUM5QkQsRUFBT1AsRUFBRVMsS0FBS0QsR0FNaEIsTUFBTyxDQUFFRSxPQUhJLElBQ0pKLElBQU9ELEVBRUNNLElBdEJQLENBQUNYLEVBQUdDLEVBQUdOLEtBQ2YsSUFBSyxJQUFJYSxFQUFJLEVBQUdBLEVBQUlELEVBQU9QLEVBQUVFLE9BQVFNLElBQy9CRCxFQUFPUCxFQUFFUSxLQUFPUixHQUNkTyxFQUFPTixHQUFLQSxHQUNNLFFBQWhCTSxFQUFPUCxFQUFFUSxLQUNYSSxRQUFRQyxJQUFJLE9BQ1psQixFQUFNSyxHQUFHQyxHQUFLLE1BQ2RNLEVBQU9QLEVBQUVRLEdBQUssTUFDZEYsR0FBTSxJQWNNRCxXQUFBQSxFQUFZRSxPQUFBQSxFQUFRRCxHQUFBQSxHQ0h6QixDQUFXTixFQUFHQyxFQUFHQyxHQUNoQyxJQUFLLElBQUlNLEVBQUlSLEVBQUlJLEVBQVNDLFdBQWEsRUFBR0csR0FBS1IsR0FDekIsS0FBaEJMLEVBQU1hLEdBQUdQLEdBRG1DTyxJQUUzQ2IsRUFBTWEsR0FBR1AsR0FBSyxPQUdyQixPQURBTCxFQUFNYSxLQUFLTCxHQUNKVCxHQXdCV0EsTUFBQUEsRUFBT21CLGNBckJQLENBQUNkLEVBQUdDLEVBQUdOLEtBQ3pCaUIsUUFBUUMsSUFBSWxCLEdBQ1osSUFBSyxJQUFJYSxFQUFJLEVBQUdBLEVBQUlaLEVBQU1NLE9BQVFNLElBQ2hDLElBQUssSUFBSU8sRUFBSSxFQUFHQSxFQUFJbkIsRUFBTVksR0FBR0QsT0FBT1AsRUFBRUUsT0FBUWEsSUFDNUMsR0FBSW5CLEVBQU1ZLEdBQUdELE9BQU9QLEVBQUVlLElBQU1mLEdBQzFCLEdBQUlKLEVBQU1ZLEdBQUdELE9BQU9OLEdBQUtBLEVBRXZCLE9BREFMLEVBQU1ZLEdBQUdHLElBQUlYLEVBQUdDLEVBQUdOLElBQ08sSUFBdEJDLEVBQU1ZLEdBQUdFLFdBQ1haLEdBQWEsR0FDTixRQUlYRCxFQUFVWSxLQUFLLENBQUNULEVBQUdDLElBS3pCLE9BQU9MLEdBR2lDQSxNQUFBQSxJQzdDNUMsRUFYQSxXQUNFLElBQ0lvQixFQUFrQixJQU10QixNQUFPLENBQUVDLFdBSlEsU0FBVWpCLEVBQUdDLEVBQUdDLEdBRS9CYyxFQUFnQmpCLFVBQVVDLEVBQUdDLEVBQUdDLElBRWJjLGdCQUFBQSxFQUFpQkUsWUFQcEIsSUNIZEMsRUFBYyxDQUFDQyxFQUFXQyxFQUFnQkMsRUFBUUMsS0FDdEQsSUFBSTVCLEVBQVEyQixFQUFPTixnQkFBZ0JyQixNQUNuQ3lCLEVBQVVJLFVBQVksR0FFdEI3QixFQUFNOEIsU0FBUSxDQUFDQyxFQUFLQyxLQUNsQkQsRUFBSUQsU0FBUSxDQUFDRyxFQUFNQyxLQUNqQixJQUFJQyxFQUFVQyxTQUFTQyxjQUFjLE9BQ3JDRixFQUFRRyxVQUFZLFVBQ3BCSCxFQUFRSSxVQUFZTixFQUNwQkUsRUFBUUssaUJBQWlCLFNBQVMsV0FDaENaLEVBQU1QLGdCQUFnQkYsY0FDcEJhLEVBQ0FFLEVBQ0FOLEVBQU1QLGdCQUFnQnJCLE9BRXhCeUIsRUFBVWMsVUFBWSxHQUN0QmIsRUFBZWEsVUFBWSxHQUMzQmYsRUFBWUUsRUFBZ0JFLEVBQU9ELEdBQ25DSCxFQUFZQyxFQUFXRSxFQUFRQyxNQUdqQ0gsRUFBVWdCLFlBQVlOLFVBSzVCLEtDdkJBLFdBQ0UsSUFBSU8sRUFBWSxJQUNaQyxFQUFLLElBQ1QsTUFBTUMsRUFBWVIsU0FBU1MsZUFBZSxVQUNwQ0MsRUFBUVYsU0FBU1MsZUFBZSxNQUdwQ0gsRUFBVXJCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBQzFDc0MsRUFBVXJCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBQzFDc0MsRUFBVXJCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBRTFDdUMsRUFBR3RCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBQ25DdUMsRUFBR3RCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBQ25DdUMsRUFBR3RCLGdCQUFnQmpCLFVBQVUsRUFBRyxFQUFHLEdBK0JyQzJDLEVBQVlELEVBQU9GLEVBQVdELEVBQUlELEdBQ2xDSyxFQUFZSCxFQUFXRSxFQUFPSixFQUFXQyxHQzdDM0MsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JzMS8uL3NyYy9jcmVhdGVTaGlwLmpzIiwid2VicGFjazovL2JzMS8uL3NyYy9jcmVhdGVCb2FyZC5qcyIsIndlYnBhY2s6Ly9iczEvLi9zcmMvY3JlYXRlUGxheWVyL2NyZWF0ZU5ld1BsYXllci5qcyIsIndlYnBhY2s6Ly9iczEvLi9zcmMvZG9tL3JlbmRlci5qcyIsIndlYnBhY2s6Ly9iczEvLi9zcmMvZ2FtZWZsb3cvZ2FtZWZsb3cuanMiLCJ3ZWJwYWNrOi8vYnMxLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZWZsb3cvZ2FtZWZsb3cnO1xuXG5mdW5jdGlvbiBjcmVhdGVTaGlwKHgsIHksIGxlbmd0aCkge1xuICBsZXQgc2hpcExlbmd0aCA9IGxlbmd0aDtcbiAgbGV0IHRwID0gMDtcbiAgbGV0IGNvb3JkcyA9IHtcbiAgICB4OiBbXSxcbiAgICB5OiBbeV0sXG4gIH07XG4gIGxldCBoaXQgPSAoeCwgeSwgYm9hcmQpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvb3Jkcy54Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY29vcmRzLnhbaV0gPT09IHgpIHtcbiAgICAgICAgaWYgKGNvb3Jkcy55ID09IHkpIHtcbiAgICAgICAgICBpZiAoY29vcmRzLnhbaV0gIT09ICdoaXQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSElUJyk7XG4gICAgICAgICAgICBib2FyZFt4XVt5XSA9ICdoaXQnO1xuICAgICAgICAgICAgY29vcmRzLnhbaV0gPSAnaGl0JztcbiAgICAgICAgICAgIHRwICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGZvciAobGV0IGkgPSB4OyBpIDwgeCArIGxlbmd0aDsgaSsrKSB7XG4gICAgY29vcmRzLngucHVzaChpKTtcbiAgfVxuXG4gIGxldCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRwID09PSBzaGlwTGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xuICB9O1xuICByZXR1cm4geyBpc1N1bmssIGhpdCwgc2hpcExlbmd0aCwgY29vcmRzLCB0cCB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTaGlwO1xuIiwiaW1wb3J0IGNyZWF0ZVNoaXAgZnJvbSAnLi9jcmVhdGVTaGlwJztcbmltcG9ydCBwbGF5ZXIgZnJvbSAnLi9jcmVhdGVQbGF5ZXInO1xuXG5mdW5jdGlvbiBnYW1lYm9hcmQoKSB7XG4gIGxldCBib2FyZCA9IFtcbiAgICBbJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgIFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sXG4gICAgWycnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnXSxcbiAgICBbJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgIFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sXG4gICAgWycnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnXSxcbiAgICBbJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICAgIFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJ10sXG4gICAgWycnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnXSxcbiAgICBbJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddLFxuICBdO1xuICBsZXQgc2hpcHMgPSBbXTtcbiAgbGV0IG1pc3NlZEhpdCA9IFtdO1xuICBsZXQgc3Vua1NoaXBzID0gMDtcblxuICBmdW5jdGlvbiBjaGVja1NodW5rU2hpcHMoKSB7XG4gICAgaWYgKHN1bmtTaGlwcyA+IDQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGxldCBwbGFjZVNoaXAgPSAoeCwgeSwgbGVuZ3RoKSA9PiB7XG4gICAgaWYgKHggPiBib2FyZC5sZW5ndGggfHwgeSA+IGJvYXJkW3hdLmxlbmd0aCkgcmV0dXJuIGFsZXJ0KCdub3QgcG9zc2libGUnKTtcbiAgICBsZXQgdGVzdFNoaXAgPSBjcmVhdGVTaGlwKHgsIHksIGxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IHggKyB0ZXN0U2hpcC5zaGlwTGVuZ3RoIC0gMTsgaSA+PSB4OyBpLS0pIHtcbiAgICAgIGlmIChib2FyZFtpXVt5XSAhPT0gJycpIGJyZWFrO1xuICAgICAgZWxzZSBib2FyZFtpXVt5XSA9ICdTaGlwJztcbiAgICB9XG4gICAgc2hpcHMucHVzaCh0ZXN0U2hpcCk7XG4gICAgcmV0dXJuIGJvYXJkO1xuICB9O1xuXG4gIGxldCByZWNlaXZlQXR0YWNrID0gKHgsIHksIGJvYXJkKSA9PiB7XG4gICAgY29uc29sZS5sb2coYm9hcmQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2hpcHNbaV0uY29vcmRzLngubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHNoaXBzW2ldLmNvb3Jkcy54W2pdID09IHgpIHtcbiAgICAgICAgICBpZiAoc2hpcHNbaV0uY29vcmRzLnkgPT0geSkge1xuICAgICAgICAgICAgc2hpcHNbaV0uaGl0KHgsIHksIGJvYXJkKTtcbiAgICAgICAgICAgIGlmIChzaGlwc1tpXS5pc1N1bmsoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBzdW5rU2hpcHMgKz0gMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtaXNzZWRIaXQucHVzaChbeCwgeV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoaXBzO1xuICB9O1xuXG4gIHJldHVybiB7IHBsYWNlU2hpcCwgYm9hcmQsIHJlY2VpdmVBdHRhY2ssIHNoaXBzIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdhbWVib2FyZDtcbiIsImltcG9ydCBnYW1lYm9hcmQgZnJvbSAnLi4vY3JlYXRlQm9hcmQnO1xuXG5mdW5jdGlvbiBwbGF5ZXIoKSB7XG4gIGxldCBwbGFjZWRTaGlwcyA9IDA7XG4gIGxldCBnYW1lYm9hcmRQbGF5ZXIgPSBnYW1lYm9hcmQoKTtcblxuICBsZXQgcGxhY2VTaGlwcyA9IGZ1bmN0aW9uICh4LCB5LCBsZW5ndGgpIHtcbiAgICBpZiAocGxhY2VkU2hpcHMgPiA0KSByZXR1cm47XG4gICAgZ2FtZWJvYXJkUGxheWVyLnBsYWNlU2hpcCh4LCB5LCBsZW5ndGgpO1xuICB9O1xuICByZXR1cm4geyBwbGFjZVNoaXBzLCBnYW1lYm9hcmRQbGF5ZXIsIHBsYWNlZFNoaXBzIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXllcjtcbiIsImNvbnN0IHJlbmRlckJvYXJkID0gKGNvbnRhaW5lciwgZW5lbXljb250YWluZXIsIHBsYXllciwgZW5lbXkpID0+IHtcbiAgbGV0IGJvYXJkID0gcGxheWVyLmdhbWVib2FyZFBsYXllci5ib2FyZDtcbiAgY29udGFpbmVyLmlubmVySHRtbCA9ICcnO1xuXG4gIGJvYXJkLmZvckVhY2goKHJvdywgaW5kZXgpID0+IHtcbiAgICByb3cuZm9yRWFjaCgoY2VsbCwgaW5kZXgyKSA9PiB7XG4gICAgICBsZXQgY2VsbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY2VsbERpdi5jbGFzc05hbWUgPSAnY2VsbERpdic7XG4gICAgICBjZWxsRGl2LmlubmVyVGV4dCA9IGNlbGw7XG4gICAgICBjZWxsRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBlbmVteS5nYW1lYm9hcmRQbGF5ZXIucmVjZWl2ZUF0dGFjayhcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICBpbmRleDIsXG4gICAgICAgICAgZW5lbXkuZ2FtZWJvYXJkUGxheWVyLmJvYXJkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lclRleHQgPSAnJztcbiAgICAgICAgZW5lbXljb250YWluZXIuaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgIHJlbmRlckJvYXJkKGVuZW15Y29udGFpbmVyLCBlbmVteSwgcGxheWVyKTtcbiAgICAgICAgcmVuZGVyQm9hcmQoY29udGFpbmVyLCBwbGF5ZXIsIGVuZW15KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2VsbERpdik7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVuZGVyQm9hcmQ7XG4iLCJpbXBvcnQgcGxheWVyIGZyb20gJy4uL2NyZWF0ZVBsYXllci9jcmVhdGVOZXdQbGF5ZXIuanMnO1xuaW1wb3J0IHJlbmRlckJvYXJkIGZyb20gJy4uL2RvbS9yZW5kZXIuanMnO1xuXG5mdW5jdGlvbiBnYW1lKCkge1xuICBsZXQgcGxheWVyT25lID0gcGxheWVyKCk7XG4gIGxldCBwYyA9IHBsYXllcigpO1xuICBjb25zdCBwbGF5ZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyJyk7XG4gIGNvbnN0IHBjRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BjJyk7XG5cbiAgZnVuY3Rpb24gcGxhY2VTaGlwcygpIHtcbiAgICBwbGF5ZXJPbmUuZ2FtZWJvYXJkUGxheWVyLnBsYWNlU2hpcCgyLCAzLCAzKTtcbiAgICBwbGF5ZXJPbmUuZ2FtZWJvYXJkUGxheWVyLnBsYWNlU2hpcCgyLCA0LCAzKTtcbiAgICBwbGF5ZXJPbmUuZ2FtZWJvYXJkUGxheWVyLnBsYWNlU2hpcCgyLCA2LCAzKTtcblxuICAgIHBjLmdhbWVib2FyZFBsYXllci5wbGFjZVNoaXAoMywgMiwgMyk7XG4gICAgcGMuZ2FtZWJvYXJkUGxheWVyLnBsYWNlU2hpcCg0LCA2LCAzKTtcbiAgICBwYy5nYW1lYm9hcmRQbGF5ZXIucGxhY2VTaGlwKDEsIDEsIDMpO1xuICB9XG4gIHBsYWNlU2hpcHMoKTtcblxuICBmdW5jdGlvbiByYW5kb21BdHRhY2soKSB7XG4gICAgbGV0IHJhbmRvbUNvb3Jkc1ggPSBNYXRoLmZsb29yKFxuICAgICAgTWF0aC5yYW5kb20oKSAqIHBsYXllck9uZS5nYW1lYm9hcmRQbGF5ZXIuYm9hcmQubGVuZ3RoXG4gICAgKTtcbiAgICBsZXQgcmFuZG9tQ29vcmRzWSA9IE1hdGguZmxvb3IoXG4gICAgICBNYXRoLnJhbmRvbSgpICogcGxheWVyT25lLmdhbWVib2FyZFBsYXllci5ib2FyZFswXS5sZW5ndGhcbiAgICApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxheWVyT25lLmdhbWVib2FyZFBsYXllci5zaGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpIDwgcGxheWVyT25lLmdhbWVib2FyZFBsYXllci5zaGlwc1tpXS5jb29yZHMueC5sZW5ndGg7XG4gICAgICAgIGkrK1xuICAgICAgKSB7XG4gICAgICAgIGlmIChwbGF5ZXJPbmUuZ2FtZWJvYXJkUGxheWVyLnNoaXBzW2ldLmNvb3Jkcy54W2ldID09IHJhbmRvbUNvb3Jkc1gpIHtcbiAgICAgICAgICBpZiAocGxheWVyT25lLmdhbWVib2FyZFBsYXllci5zaGlwc1tpXS5jb29yZHMueSA9PSByYW5kb21Db29yZHNZKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUF0dGFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwbGF5ZXJPbmUuZ2FtZWJvYXJkUGxheWVyLnJlY2VpdmVBdHRhY2socmFuZG9tQ29vcmRzWCwgcmFuZG9tQ29vcmRzWSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCB2YWxpZGF0ZUF0dGFjayA9ICgpID0+IHtcbiAgICBpZiAocGMuZ2FtZWJvYXJkUGxheWVyLmNoZWNrU2h1bmtTaGlwcyA9PT0gdHJ1ZSkgcmV0dXJuIGFsZXJ0KCdwbGF5ZXIgd29uJyk7XG4gIH07XG4gIHJlbmRlckJvYXJkKHBjRGl2LCBwbGF5ZXJEaXYsIHBjLCBwbGF5ZXJPbmUpO1xuICByZW5kZXJCb2FyZChwbGF5ZXJEaXYsIHBjRGl2LCBwbGF5ZXJPbmUsIHBjKTtcblxuICByZXR1cm4geyBwbGF5ZXJPbmUsIHBjLCByYW5kb21BdHRhY2sgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2FtZTtcbiIsImltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZWZsb3cvZ2FtZWZsb3cuanMnO1xuaW1wb3J0IHJlbmRlckJvYXJkIGZyb20gJy4vZG9tL3JlbmRlci5qcyc7XG5cbmdhbWUoKTtcbiJdLCJuYW1lcyI6WyJib2FyZCIsInNoaXBzIiwibWlzc2VkSGl0Iiwic3Vua1NoaXBzIiwicGxhY2VTaGlwIiwieCIsInkiLCJsZW5ndGgiLCJhbGVydCIsInRlc3RTaGlwIiwic2hpcExlbmd0aCIsInRwIiwiY29vcmRzIiwiaSIsInB1c2giLCJpc1N1bmsiLCJoaXQiLCJjb25zb2xlIiwibG9nIiwicmVjZWl2ZUF0dGFjayIsImoiLCJnYW1lYm9hcmRQbGF5ZXIiLCJwbGFjZVNoaXBzIiwicGxhY2VkU2hpcHMiLCJyZW5kZXJCb2FyZCIsImNvbnRhaW5lciIsImVuZW15Y29udGFpbmVyIiwicGxheWVyIiwiZW5lbXkiLCJpbm5lckh0bWwiLCJmb3JFYWNoIiwicm93IiwiaW5kZXgiLCJjZWxsIiwiaW5kZXgyIiwiY2VsbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmRDaGlsZCIsInBsYXllck9uZSIsInBjIiwicGxheWVyRGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJwY0RpdiIsInJlbmRlciJdLCJzb3VyY2VSb290IjoiIn0=